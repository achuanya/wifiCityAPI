# WiFi城市API系统 - 增删改查操作汇总

本文档汇总了WiFi城市API系统中所有的增删改查操作，按功能模块分类整理，供UI可视化开发参考。

## 1. 门店管理模块

### 创建操作
- **新增门店** - 创建一个新的门店记录
- **同时新增门店及初始WIFI配置** - 创建门店并同时配置初始WiFi信息

### 查询操作
- **查询门店列表** - 获取门店列表，支持分页和多条件筛选
- **查询门店详情** - 获取指定门店的详细信息
- **查询指定区域内的门店** - 获取指定行政区域内的所有门店
- **查询附近门店** - 获取指定坐标附近的门店

### 更新操作
- **更新门店基本信息** - 更新指定门店的基本信息
- **更新门店联系电话** - 单独更新门店的联系电话
- **更新门店地理位置信息** - 单独更新门店的地理位置信息
- **更新门店状态** - 单独更新门店的状态（启用/停用）

### 删除操作
- **删除门店** - 删除指定的门店记录

## 2. WIFI配置管理模块

### 创建操作
- **新增门店WIFI配置** - 为指定门店添加新的WiFi配置
- **批量新增门店WIFI配置** - 为指定门店批量添加多个WiFi配置

### 查询操作
- **查询门店所有WIFI配置列表** - 获取指定门店的所有WiFi配置
- **查询单个WIFI配置详情** - 获取指定WiFi配置的详情
- **查询门店特定类型的WIFI配置** - 获取指定门店特定类型的WiFi配置

### 更新操作
- **更新WIFI配置** - 更新指定的WiFi配置信息

### 删除操作
- **删除WIFI配置** - 删除指定的WiFi配置

## 3. 用户信息管理模块

### 创建操作
- **创建/更新用户档案** - 创建新用户或更新现有用户信息
- **用户绑定手机号** - 将手机号与用户UnionID绑定

### 查询操作
- **获取用户详情** - 根据用户UnionID获取用户详细信息
- **根据OpenID获取用户详情** - 根据微信OpenID获取用户详细信息
- **根据手机号获取用户详情** - 根据手机号获取用户详细信息
- **查询用户扫码门店历史** - 获取用户历史扫码过的门店列表

### 更新操作
- **更新用户手机号** - 更新指定用户的手机号信息
- **更新用户地理位置信息** - 更新指定用户的地理位置信息

### 删除操作
- **用户解绑手机号** - 解除用户UnionID与手机号的绑定

## 4. 扫码日志管理模块

### 创建操作
- **记录用户扫码连接日志** - 记录用户扫描二维码连接WiFi的日志信息

### 查询操作
- **查询扫码日志列表** - 获取扫码日志列表，支持多条件筛选
- **查询指定门店的每日扫码量** - 获取指定门店的每日扫码统计数据
- **查询指定用户的扫码历史记录** - 获取指定用户的扫码历史记录
- **查询扫码连接失败日志** - 获取连接失败的扫码日志记录

### 更新操作
- **更新扫码日志连接结果** - 更新已有扫码日志的连接结果信息

### 删除操作
- 本模块不支持删除操作

## 5. 优惠券管理模块

### 创建操作
- **创建优惠券** - 创建新的优惠券
- **批量创建优惠券** - 批量创建多个优惠券

### 查询操作
- **查询优惠券列表** - 获取优惠券列表，支持多条件筛选
- **查询优惠券详情** - 获取指定优惠券的详细信息
- **查询门店可用优惠券列表** - 获取指定门店可用的优惠券列表
- **查询用户可领取的优惠券列表** - 获取指定用户可领取的优惠券列表

### 更新操作
- **更新优惠券基本信息** - 更新指定优惠券的基本信息
- **更新优惠券有效期** - 更新指定优惠券的有效期设置
- **更新优惠券使用限制** - 更新指定优惠券的使用限制设置
- **更新优惠券发行量** - 更新指定优惠券的发行量设置
- **更新优惠券适用门店** - 更新指定优惠券的适用门店
- **更新优惠券状态** - 更新指定优惠券的状态（启用/禁用）

### 删除操作
- **删除优惠券** - 删除指定的优惠券

## 6. 优惠券日志管理模块

### 创建操作
- **用户领取优惠券** - 记录用户领取优惠券的操作
- **用户使用优惠券** - 记录用户使用优惠券的操作
- **记录优惠券发放** - 系统管理员手动发放优惠券的操作记录
- **记录优惠券过期** - 标记优惠券为已过期状态
- **记录优惠券退回** - 记录优惠券退回操作

### 查询操作
- **查询用户已领取优惠券列表** - 获取用户已领取的优惠券列表
- **查询指定优惠券的领取详情** - 获取指定优惠券的领取详情记录
- **查询指定优惠券的使用详情** - 获取指定优惠券的使用详情记录
- **查询门店优惠券核销记录** - 获取指定门店的优惠券核销记录

### 更新操作
- 本模块不支持更新操作

### 删除操作
- 本模块不支持删除操作

## 7. 数据统计与报表模块

### 门店统计
- **统计门店总数** - 获取系统中的门店总数统计信息
- **统计不同省份/城市门店数量** - 获取不同地区的门店分布统计
- **按日/周/月统计新增门店数** - 获取指定时间段内新增门店的统计数据

### WIFI使用统计
- **统计总连接次数** - 获取WiFi连接总次数统计
- **统计指定门店的连接次数** - 获取指定门店的WiFi连接次数统计
- **统计连接成功率** - 获取WiFi连接成功率统计
- **统计不同加密类型WIFI的使用情况** - 获取不同加密类型WiFi的使用情况统计
- **统计连接失败原因分布** - 获取WiFi连接失败原因分布统计
- **统计最受欢迎的WIFI名称** - 获取最受欢迎的WiFi名称排名

### 用户行为统计
- **统计新用户注册/首次扫码数量** - 获取新用户注册及首次扫码数量统计
- **统计活跃用户数** - 获取活跃用户数统计
- **统计用户性别/地域分布** - 获取用户性别及地域分布统计
- **统计用户设备类型/系统分布** - 获取用户设备类型及系统分布统计
- **统计平均用户扫码次数** - 获取平均每个用户的扫码次数统计
- **查询高频扫码用户** - 获取扫码频率最高的用户列表

### 优惠券统计
- **统计优惠券总发行量** - 获取优惠券总发行量统计
- **统计优惠券总领取量** - 获取优惠券总领取量统计
- **统计优惠券总使用量/核销率** - 获取优惠券总使用量及核销率统计
- **统计不同类型优惠券的发行/领取/使用情况** - 获取不同类型优惠券的使用情况统计
- **统计指定门店优惠券的领取/使用情况** - 获取指定门店的优惠券使用情况统计
- **统计优惠券带来的核销金额** - 获取优惠券带来的核销金额统计
- **查询最受欢迎的优惠券** - 获取最受欢迎的优惠券排名

### 流量与访问统计
- **统计小程序总访问量** - 获取小程序总访问量统计
- **统计小程序用户总数** - 获取小程序用户总数统计
- **统计小程序日/周/月活跃用户** - 获取小程序活跃用户统计
- **按来源统计扫码量** - 获取不同来源的扫码量统计

## 8. 可视化图表推荐

### 门店管理可视化
- **门店地理分布图** - 在地图上展示门店分布情况
- **门店增长趋势图** - 折线图展示门店数量随时间变化趋势
- **门店状态占比图** - 饼图展示正常/停用门店占比

### WIFI使用可视化
- **WiFi连接成功率仪表盘** - 仪表盘展示WiFi连接成功率
- **连接次数趋势图** - 折线图展示WiFi连接次数随时间变化趋势
- **连接失败原因分布图** - 饼图展示不同失败原因的分布情况
- **热门WiFi排行榜** - 条形图展示最受欢迎的WiFi排名

### 用户行为可视化
- **用户活跃度热力图** - 热力图展示不同时段的用户活跃度
- **用户地域分布图** - 地图展示用户地域分布情况
- **用户设备类型占比图** - 饼图展示不同设备类型的占比
- **新用户增长趋势图** - 折线图展示新用户数量随时间变化趋势

### 优惠券使用可视化
- **优惠券核销率仪表盘** - 仪表盘展示优惠券核销率
- **优惠券领取/使用趋势图** - 双线折线图展示优惠券领取与使用趋势
- **优惠券类型占比图** - 饼图展示不同类型优惠券的占比
- **优惠券核销金额统计图** - 条形图展示优惠券核销金额排名 